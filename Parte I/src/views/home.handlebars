<html lang='es'>
	<head>
		<meta charset='UTF-8' />
		<meta name='viewport' content='width=device-width, initial-scale=1.0' />
		<title>
			Lista de Productos
		</title>
		<!-- Bootstrap CSS -->
		<link
			href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css'
			rel='stylesheet'
		/>

		<style>
			/* Fuente personalizada desde Google Fonts */ @import
			url('https://fonts.googleapis.com/css2?family=SUSE:wght@100..800&display=swap'); body {
			font-family: 'SUSE', sans-serif; background-color: #f9f9f9; margin: 0; padding: 0; display:
			flex; flex-direction: column; min-height: 100vh; } .content-wrapper { flex: 1; display: flex;
			flex-direction: column; align-items: center; padding: 20px; } .contact-section {
			background-color: #fff; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 5px
			rgba(0, 0, 0, 0.1); padding: 20px; max-width: 800px; width: 100%; margin: 20px auto; }
			.contact-section h1 { margin-bottom: 20px; } .contact-section p { margin-bottom: 20px; }
			.contact-section .form-label { font-weight: bold; } .contact-section .btn-primary {
			background-color: #333; border-color: #333; } .contact-section .btn-primary:hover {
			background-color: #555; border-color: #555; }
		</style>
	</head>

	<body>
		<div class='container my-4'>
			<div class='row'>
				{{#each products}}
					<!-- Suponiendo que 'products' es el array de productos pasado al contexto -->
					<div class='col-md-4 mb-3'>
						<div class='card'>
							<img src='{{this.image}}' class='card-img-top' alt='{{this.name}}' />
							<!-- Usar la ruta de la imagen -->
							<div class='card-body'>
								<h5 class='card-title'>
									{{this.name}}
								</h5>
								<p class='card-text'>
									Precio: {{this.priceFormatted}}
								</p>
								<p class='card-text'>
									{{this.description}}
								</p>
								<form
									action='/add-to-cart'
									method='post'
									class='d-flex flex-column flex-xl-row gap-2 justify-content-between align-items-center'
								>
									<input type='hidden' name='product_id' value='{{this.id}}' />

									<button class='btn btn-primary my-cart-btn'>
										Añadir al carrito
									</button>

									<input type='number' name='quantity' value='1' min='1' max='{{this.stock}}'/>
								</form>
							</div>
						</div>
					</div>
				{{/each}}
			</div>
		</div>

		<!-- Ícono flotante del carrito de compras -->
		<a class='btn btn-dark position-fixed bottom-0 end-0 m-3' href='/cart' id='cart-icon'>
			🛒
		</a>
	</body>
</html>